# Проектная работа "Веб-ларек"

Ссылка на проект: https://github.com/SchanderEd/web-larek-frontend.git

Архитектура проекта: MVP

Model - слой отвечающий за хранение модели данных и их изменение.
View - слой представления, отвечающий за отображение данных на странице.
Presenter - слой отвечающий за связь между моделью и отображением.


Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

## Базовый код

Класс Api - содержит логику работы с Api проекта. Принимает два параметра:

1. baseUrl адрес запроса
2. options набор опций для отправки запроса в виде объекта, которые передаются в headers запроса.

Методы Api

handleResponse(response: Response) - метод отвеающий за обработку ответа от сервера. В случае успешного запроса возвращает ответ в JSON формате, в противном случае в ответе приходит код и текст ошибки.

get(uri: string) - метод отправки запроса на сервер. Возвращает данные с сервера. Принимает на вход адрес запроса.

post(uri: string, data: object, method: ApiPostMethods = 'POST') - метод для отправки данных на сервер. В ответе возвращает данные с сервера в JSON формате. Принимает на вход адрес запроса, данные для передачи в виде объекта и метод запроса.

## Классы свойста Model. Слой модели.

IProduct - класс отвечает за хранение данных товара. Данный класс имеет следующие параметры:

id:string - индетификатор товара. Принимает строку.
title: string  - название товара. Принимает строку.
category: string  - категория товара. Принимает строку
price: number | null - стоимость товара. Значение может быть пустым или принимать число.
image: string  - ссылка на изображение товара.
description: string - описание товара. Принимает строку.

```

ICatalog - класс отвечает за хранение данных каталога, а также с его помощью можно получить список товаров или получить определенный товар по его id.

items: IProduct[] - параметр принимающий массив из товаров.

Методы:
setItems() - возвращает список товаров в каталоге.
getProduct(id: string) - возвращает объект переданного товара по его id.

---

IBasket - класс отвечает за хранение данных корзины. Также класс имеет методы позволяющие добавить или удалить товар из корзины по переданному id.

Параметры класса:

items: IProduct[] - список товаров в корзине. Принимает массив из объектов класса IProduct.
counter: number - количество товаров в корзине. Принимает число.

Методы:
addProduct(id: string) - добавляет товар в корзину по переданному id
removeProduct(id: string) - удаляет товар из корзины по переданному id

---

enum Modals - список модальных окон. Используется для передачи типа модального окна в класс IModal для закрытия или открытия необходимого окна.

	productModal - окно товара,
	basketModal - окно корзины,
	paymentModal - окно выбора способа оплаты,
	successOrderModal - окно при успешном оформлении заказа,
	contactsModal - окно заполнения контактных данных

---

IModal - модель модального окна. Класс содержит в себе тип окна и методы для открытия и закрытия окна.

modal: Modals - тип модального окна. Принимает значение из enum Modals

Методы:
openModal(modal: Modals) - открывает указанное модальное окно. В метод необходимо передать тип модального окна из enum Modals 
closeModal(modal: Modals) - закрывает указанное модальное окно. В метод необходимо передать тип модального окна из enum Modals 

---

IFormOrder - данные заказа из формы оформления заказа. Класс содержит способ оплаты, адресс доставки и контактые данные пользователя для оформления заказа. Класс имеет следующие параметры:

paymentMethod: string - выбранный тип оплаты
address: string - адрес доставки
email: string - адрес эл.почты
phone: string - номер телефона

---

ISuccesOrder - класс отвечающий за данные при успешном оформлении заказа. Данный класс хранит в себе итогую сумму заказа.

amount: number - общая сумма заказа

```
## Классы свойства View. Слой отображения

---

ViewConstructor - конструктор HTML элемента. В данный класс передаётся HTML элемент и список событий этого элемента для последующего рендера.

container: HTMLElement - HTML элемент для конструктора.
events?: IEventEmmitter - список событий для указанного HTML элемента.

---

IView - Класс, содержащий в себе метод рендера HTML элемента:

Методы:
render(data?: object) - рендерит HTML элемент на странице с переданной data в виде объекта

---

## Классы свойства Presenter. Слой презентера

EventEmitter - обеспечивает работу событий. Устанавливает и снимает слушателей событий, а также вызывает их при возникновении события.

Методы:
on() - установить обработчик на событие
off() - снять обработчик на событие
emit() - инициировать событие с данными
onAll() - слушать все события
offAll() - сбросить все обработчики
trigger() - сделать коллбек триггер, генерирующий событие при вызове